

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Git Core Concepts &mdash; Git - a follow along guide  documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://www.zxiiro.ca/git-guidecore-concepts.html"/>
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Deeper look into commits" href="commit-objects.html" />
    <link rel="prev" title="Basic Revision Control" href="basic-revision-control.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Git - a follow along guide
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="basic-revision-control.html">Basic Revision Control</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Git Core Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-git-repository">The Git Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-git-object-model">The Git Object Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#demo-working-with-the-git-directory">Demo: Working with the Git Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="#demo-working-with-multiple-worktrees">Demo: Working with multiple Worktrees</a></li>
<li class="toctree-l2"><a class="reference internal" href="#git-core-concepts-key-takeaways">Git Core Concepts: Key Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="commit-objects.html">Deeper look into commits</a><ul>
<li class="toctree-l2"><a class="reference internal" href="commit-objects.html#writing-a-great-commit-message">Writing a great commit message</a></li>
<li class="toctree-l2"><a class="reference internal" href="commit-objects.html#poor-man-s-automated-release-notes">Poor man’s automated release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="commit-objects.html#troubleshooting-and-debugging">Troubleshooting and debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="commit-objects.html#tools-for-reading-commits">Tools for reading commits</a></li>
<li class="toctree-l2"><a class="reference internal" href="commit-objects.html#demo-committing-and-amending">Demo: Committing and amending</a></li>
<li class="toctree-l2"><a class="reference internal" href="commit-objects.html#commit-mesages-key-takeaways">Commit Mesages: Key Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="remotes.html">Working with remotes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="remotes.html#refs-remotes-vs-refs-heads">refs/remotes vs refs/heads</a></li>
<li class="toctree-l2"><a class="reference internal" href="remotes.html#git-remote-commands">Git Remote Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="remotes.html#remotes-key-takeaways">Remotes: Key Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="branch-tags.html">Git References: Branches and Tags</a><ul>
<li class="toctree-l2"><a class="reference internal" href="branch-tags.html#core-references">Core References</a></li>
<li class="toctree-l2"><a class="reference internal" href="branch-tags.html#accessing-references">Accessing References</a></li>
<li class="toctree-l2"><a class="reference internal" href="branch-tags.html#branch-and-tag-commands">Branch and Tag commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="branch-tags.html#merging-code-3-types-of-merges">Merging Code: 3 types of merges</a></li>
<li class="toctree-l2"><a class="reference internal" href="branch-tags.html#merging-code-resolving-merge-conflicts">Merging Code: Resolving merge conflicts</a></li>
<li class="toctree-l2"><a class="reference internal" href="branch-tags.html#git-references-key-takeaways">Git References: Key Takeaways</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Git Workflows</a><ul>
<li class="toctree-l2"><a class="reference internal" href="workflows.html#email-workflow">Email Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows.html#pull-request-workflow">Pull Request Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflows.html#patchset-workflow">Patchset Workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Git - a follow along guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Git Core Concepts</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/core-concepts.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="commit-objects.html" class="btn btn-neutral float-right" title="Deeper look into commits" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="basic-revision-control.html" class="btn btn-neutral float-left" title="Basic Revision Control" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="git-core-concepts">
<h1>Git Core Concepts<a class="headerlink" href="#git-core-concepts" title="Permalink to this headline">¶</a></h1>
<p>Topics:</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#the-git-repository" id="id9">The Git Repository</a></p>
<ul>
<li><p><a class="reference internal" href="#worktree" id="id10">Worktree</a></p></li>
<li><p><a class="reference internal" href="#git-index" id="id11">Git Index</a></p></li>
<li><p><a class="reference internal" href="#git-directory" id="id12">Git Directory</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#the-git-object-model" id="id13">The Git Object Model</a></p>
<ul>
<li><p><a class="reference internal" href="#the-sha" id="id14">The SHA</a></p></li>
<li><p><a class="reference internal" href="#blob-object" id="id15">Blob object</a></p></li>
<li><p><a class="reference internal" href="#tree-object" id="id16">Tree object</a></p></li>
<li><p><a class="reference internal" href="#commit-object" id="id17">Commit object</a></p></li>
<li><p><a class="reference internal" href="#tag-object" id="id18">Tag object</a></p></li>
<li><p><a class="reference internal" href="#git-objects-full-example" id="id19">Git Objects Full Example</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#demo-working-with-the-git-directory" id="id20">Demo: Working with the Git Directory</a></p>
<ul>
<li><p><a class="reference internal" href="#git-status" id="id21">git status</a></p></li>
<li><p><a class="reference internal" href="#git-add" id="id22">git add</a></p></li>
<li><p><a class="reference internal" href="#git-commit" id="id23">git commit</a></p></li>
<li><p><a class="reference internal" href="#git-checkout" id="id24">git checkout</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#demo-working-with-multiple-worktrees" id="id25">Demo: Working with multiple Worktrees</a></p></li>
<li><p><a class="reference internal" href="#git-core-concepts-key-takeaways" id="id26">Git Core Concepts: Key Takeaways</a></p></li>
</ul>
</div>
<div class="section" id="the-git-repository">
<h2><a class="toc-backref" href="#id9">The Git Repository</a><a class="headerlink" href="#the-git-repository" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default" id="id2">
<img alt="_images/git-repo.svg" src="_images/git-repo.svg" /><p class="caption"><span class="caption-text">Worktree | Git Index | Git Directory</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>The directory containing a Git repo can contains 3 important parts:</p>
<ol class="arabic simple">
<li><p>Worktree         (Working directory)</p></li>
<li><p>Git Index        (Staging Area)</p></li>
<li><p>Local Repository (Git Database)</p></li>
</ol>
<p>It is really difficult for a new user to effectively use Git until they
understand the difference between these 3 components.</p>
<p>Main commands to interact with the <a class="reference internal" href="glossary.html#term-Git-Directory"><span class="xref std std-term">Git Directory</span></a> include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> shows the current state of the <a class="reference internal" href="glossary.html#term-Git-Repository"><span class="xref std std-term">Git Repository</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> adds files to the <a class="reference internal" href="glossary.html#term-Git-Index"><span class="xref std std-term">Git Index</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> submits the files into the <a class="reference internal" href="glossary.html#term-Git-Directory"><span class="xref std std-term">Git Directory</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> pulls out files from the <a class="reference internal" href="glossary.html#term-Git-Directory"><span class="xref std std-term">Git Directory</span></a></p></li>
</ul>
<p><strong>Creating a new Git Repository</strong></p>
<p>Create a new <a class="reference internal" href="glossary.html#term-Git-Repository"><span class="xref std std-term">Git Repository</span></a> with the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span> <span class="pre">[PROJECT]</span></code> command.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git init demo
</pre></div>
</div>
<p><strong>Setup your Git metadata</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git config --global user.name <span class="s2">&quot;Thanh Ha&quot;</span>
git config --global user.email <span class="s2">&quot;thanh@example.com&quot;</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[user]
    name = Thanh Ha
    email = thanh@example.com
</pre></div>
</div>
<div class="section" id="worktree">
<h3><a class="toc-backref" href="#id10">Worktree</a><a class="headerlink" href="#worktree" title="Permalink to this headline">¶</a></h3>
<p>The Worktree or working directory is where all your checked out files reside.
This is the space where you do work on files. When you do a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code>
you are telling Git to copy files from the <a class="reference internal" href="glossary.html#term-Git-Directory"><span class="xref std std-term">Git Directory</span></a> to this
working area so that you can work on them. A snapshot of the files are checked
out from the reference point that you pass to the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">REFERENCE</span></code>
command.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">master</span></code> tells Git to fetch all the files from the
reference point that <strong>master</strong> is currently pointing to.</p>
</div>
<div class="section" id="git-index">
<h3><a class="toc-backref" href="#id11">Git Index</a><a class="headerlink" href="#git-index" title="Permalink to this headline">¶</a></h3>
<p>The Git Index or staging area is where you can stage files in preparation to
commit into the <a class="reference internal" href="glossary.html#term-Git-Database"><span class="xref std std-term">Git Database</span></a>. You can use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">FILE</span></code> to take a
file from the <a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktree</span></a> and copy it into the staging area. You use the
staging area to build up a set of changes that you want to commit together.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">README</span></code> tells Git to copy the README file from the
<a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktree</span></a> and put it into the Git Index. Keyword here is <em>copy</em> because
even after you add the file it is still possible to edit the file without
affecting the copy in the Git Index.</p>
</div>
<div class="section" id="git-directory">
<h3><a class="toc-backref" href="#id12">Git Directory</a><a class="headerlink" href="#git-directory" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">.git</span></code> directory contains the Git configuration and database. When
you are talking about committing code to Git, this is where the code is stored.</p>
<p>Contents:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><span class="hll">HEAD
</span><span class="hll">config
</span>description
hooks
info
<span class="hll">objects
</span><span class="hll">refs
</span></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">HEAD</dt>
<dd class="field-odd"><p>Contains the active reference point of your current workspace. This
could be a SHA or a reference to another reference inside the <code class="docutils literal notranslate"><span class="pre">refs</span></code>
directory.</p>
</dd>
<dt class="field-even">config</dt>
<dd class="field-even"><p>Contains your local Git configuration for this repo. You can put any
repo specific configurations here if they differ from the global Git
config.</p>
</dd>
<dt class="field-odd">description</dt>
<dd class="field-odd"><p>Only locally significant and allows you to give your Git repo a
description. Typically not used by users, it’s mostly for server use.</p>
</dd>
<dt class="field-even">hooks</dt>
<dd class="field-even"><p>Contains scripts that can be run automatically upon certain Git
actions. Commonly <code class="docutils literal notranslate"><span class="pre">pre-commit</span></code> is useful for things like automated
linting and testing client-side before pushing to a remote repository to
trigger CI.</p>
</dd>
<dt class="field-odd">info</dt>
<dd class="field-odd"><p>Contains an <code class="docutils literal notranslate"><span class="pre">excludes</span></code> file which is similar to <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>
except it is not saved in the Git repo. Useful if you want to ignore things
that are only significant to you and no one else (such as maybe you use a
different IDE then everyone else and don’t want to pollute <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>
with your snowflake environmnet). Otherwise it’s better to use
<code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> in most cases.</p>
</dd>
<dt class="field-even">objects</dt>
<dd class="field-even"><p>Contains the Git <strong>object database</strong> itself. It is a key-value store
and every single file you check into Git exists here. This is where Git
pulls the files from when you do a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code>. Every file is a SHA
hash that acts as the key and the contents of the file is the value in the
key-value store.</p>
</dd>
<dt class="field-odd">refs</dt>
<dd class="field-odd"><p>Contains all of your references, you might know them as branches,
tags, commits… They are essentially a bunch of SHA hashes that allow you
to pull from the Git object database.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="the-git-object-model">
<h2><a class="toc-backref" href="#id13">The Git Object Model</a><a class="headerlink" href="#the-git-object-model" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-sha">
<h3><a class="toc-backref" href="#id14">The SHA</a><a class="headerlink" href="#the-sha" title="Permalink to this headline">¶</a></h3>
<p>Before we can get to the objects, it is important to understand that every Git
object is represented as a SHA1 hash in the <a class="reference internal" href="glossary.html#term-Git-Database"><span class="xref std std-term">Git Database</span></a>.</p>
<p>Everything in Git is represented by a 40 character SHA1 hash that looks
something like this <code class="docutils literal notranslate"><span class="pre">557db03de997c86a4a028e1ebd3a1ceb225be238</span></code> (This is
‘Hello World’). This is the object name (or key in a key-value store) that Git
will use to store your contents into the <a class="reference internal" href="glossary.html#term-Git-Database"><span class="xref std std-term">Git Database</span></a>.</p>
<p>Since SHA1 hashes are always computed exactly the same on every system, this
guarentees that the same contents are always stored with the same name in the
database and duplicate files are never stored in a Git repo.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is also how Git can detect if you have files that are corrupt,
basically if the contents of the files no longer match up with the SHA1
hash in the database Git will report that the file has been tampered with
and will consider your database corrupt.</p>
</div>
</div>
<div class="section" id="blob-object">
<h3><a class="toc-backref" href="#id15">Blob object</a><a class="headerlink" href="#blob-object" title="Permalink to this headline">¶</a></h3>
<div class="figure align-default" id="id3">
<img alt="Blob object" src="_images/git-object-blob.svg" /><p class="caption"><span class="caption-text">Blob object</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>A Blob object contains the complete contents of a file.</p>
<p>As mentioned previously, all Git objects are stored via SHA1 hash so 2 files
with the identical contents gets stored in the <a class="reference internal" href="glossary.html#term-Git-Database"><span class="xref std std-term">Git Database</span></a> as the
same exact same Blob object so there can be no duplicate files.</p>
<p>Another thing you may notice as we go through this guide is that Git always
stores the complete contents of files into Blobs, but when you look at a Git
commit using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code> or any tools to show the commit you will see what
changed in the file instead. What Git’s doing in the background is comparing
any Blob objects that changed in a commit with the previous Blob object that
it replaced.</p>
</div>
<div class="section" id="tree-object">
<h3><a class="toc-backref" href="#id16">Tree object</a><a class="headerlink" href="#tree-object" title="Permalink to this headline">¶</a></h3>
<div class="figure align-default" id="id4">
<img alt="Tree object" src="_images/git-object-tree.svg" /><p class="caption"><span class="caption-text">Tree object</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<p>A Tree object contains the contents of a directory.</p>
<p>It is a mapping of Tree and Blob objects to filenames. If you follow a tree all
the way down the final tree will only contain Blob objects, this is why you
cannot store just an empty directory in Git.</p>
<p>When you do a <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> of a commit. Git will use the Tree to fetch all
of the files the commit represents into your <a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktree</span></a>.</p>
</div>
<div class="section" id="commit-object">
<h3><a class="toc-backref" href="#id17">Commit object</a><a class="headerlink" href="#commit-object" title="Permalink to this headline">¶</a></h3>
<div class="figure align-default" id="id5">
<img alt="Commit object" src="_images/git-object-commit.svg" /><p class="caption"><span class="caption-text">Commit object</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>A Commit object represents a particular point in time in the Git timeline.
It contains a tree, parent, author, committer, and commit message.</p>
<p>This is the object folks generally interact with the most in Git. You can
think of it as kind of an email. If you can imagine:</p>
<ul class="simple">
<li><p>The Tree is your attachments</p></li>
<li><p>The commit message is your Subject line as well as email Body</p></li>
<li><p>The rest of the info is metadata to describe where the commit came from</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While the <strong>author</strong> and <strong>committer</strong> timestamps are generated the first
time a commit is created. Only the <strong>committer</strong> timestamp is updated every
time <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></code> is run.
This is part of the reason why the commit SHA changes on ever amend a
commit.</p>
</div>
</div>
<div class="section" id="tag-object">
<h3><a class="toc-backref" href="#id18">Tag object</a><a class="headerlink" href="#tag-object" title="Permalink to this headline">¶</a></h3>
<div class="figure align-default" id="id6">
<img alt="Commit object" src="_images/git-object-tag.svg" /><p class="caption"><span class="caption-text">Tag object</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>Also known as an annotated Tag, the Tag object contains supporting metadata
and reference to a <a class="reference internal" href="glossary.html#term-Commit-object"><span class="xref std std-term">Commit object</span></a>.</p>
<p>Tags are typically used for for things like releases to provide a pointer back
to the original codebase that produced a release. It can also be used to share
interesting <a class="reference internal" href="#the-git-object-model"><span class="std std-ref">Git Objects</span></a>, perhaps a
particular commit of interest or a useful file from the repo.</p>
</div>
<div class="section" id="git-objects-full-example">
<h3><a class="toc-backref" href="#id19">Git Objects Full Example</a><a class="headerlink" href="#git-objects-full-example" title="Permalink to this headline">¶</a></h3>
<div class="figure align-default" id="id7">
<img alt="Git Objects Full Example" src="_images/git-objects-example.svg" /><p class="caption"><span class="caption-text">Git Objects Full Example</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>From here we can see how all the 4 Git Object types interact with each other:</p>
<ul class="simple">
<li><p>A Tag references a particular commit</p></li>
<li><p>A Commit references both a parent commit and a Tree</p></li>
<li><p>A Tree can reference another Tree as well as a Blob</p></li>
<li><p>2 files can also reference the same Blob</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may have noticed that branches are not a basic object of Git.
Branches are basically a human readable alias to a <a class="reference internal" href="glossary.html#term-Commit-object"><span class="xref std std-term">Commit object</span></a>.</p>
</div>
<p>Below is an example of a simplified Git Commit view which shows a basic
timeline which we will build upon later on.</p>
<div class="figure align-default" id="id8">
<img alt="Git Commit timeline" src="_images/git-commit-timeline.svg" /><p class="caption"><span class="caption-text">Git Commit timeline</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<ul class="simple">
<li><p>Git is a history tracking tool meaning every commit that has parent commit
is an ancestor of a previous commit</p></li>
<li><p>Following the parents you can trace the entire change history of a project</p></li>
<li><p>Storing large binary objects in Git is bad practice because the history
will maintain a copy of every version of all files that ever existed</p></li>
<li><p>There is no <code class="docutils literal notranslate"><span class="pre">delete</span></code> once a file is committed to the <a class="reference internal" href="glossary.html#term-Git-Database"><span class="xref std std-term">Git Database</span></a></p></li>
</ul>
</div>
</div>
<div class="section" id="demo-working-with-the-git-directory">
<h2><a class="toc-backref" href="#id20">Demo: Working with the Git Directory</a><a class="headerlink" href="#demo-working-with-the-git-directory" title="Permalink to this headline">¶</a></h2>
<p>Before we start there are a few low level commands we’ll be using throughout
this guide to explore the Git database. You do not need to remember these
commands as they are not typically used in everyday Git but are useful for
exploring the <a class="reference internal" href="glossary.html#term-Git-Database"><span class="xref std std-term">Git Database</span></a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git cat-file -t &lt;hash&gt;
git cat-file -p &lt;hash&gt;
<span class="nb">echo</span> <span class="s1">&#39;Hello World&#39;</span> <span class="p">|</span> git hash-object
git hash-object /path/to/file
</pre></div>
</div>
<p>Commands:</p>
<div class="contents local topic" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#git-status" id="id27">git status</a></p></li>
<li><p><a class="reference internal" href="#git-add" id="id28">git add</a></p></li>
<li><p><a class="reference internal" href="#git-commit" id="id29">git commit</a></p></li>
<li><p><a class="reference internal" href="#git-checkout" id="id30">git checkout</a></p></li>
</ul>
</div>
<div class="section" id="git-status">
<h3><a class="toc-backref" href="#id27">git status</a><a class="headerlink" href="#git-status" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> command to view the state of the Git <a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktree</span></a>
and <a class="reference internal" href="glossary.html#term-Git-Index"><span class="xref std std-term">Git Index</span></a>.</p></li>
</ul>
</div>
<div class="section" id="git-add">
<h3><a class="toc-backref" href="#id28">git add</a><a class="headerlink" href="#git-add" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> command to stage files into the <a class="reference internal" href="glossary.html#term-Git-Index"><span class="xref std std-term">Git Index</span></a>
to prepare for committing into the <a class="reference internal" href="glossary.html#term-Git-Database"><span class="xref std std-term">Git Database</span></a>.</p></li>
<li><p>Be precise and avoid using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">.</span></code> which means to stage everything.</p></li>
<li><p>Instead use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">path/to/file</span></code>.</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> command to view the <a class="reference internal" href="glossary.html#term-Git-Index"><span class="xref std std-term">Git Index</span></a>.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code> to review file changes before staging.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git status
touch README

git status
git add README

git status
find .git/objects

<span class="nb">echo</span> <span class="s1">&#39;Hello World&#39;</span> <span class="p">|</span> git hash-object --stdin
<span class="nb">echo</span> <span class="s1">&#39;Hello World&#39;</span> &gt; README

git status
git diff
git add README

git status
find .git/objects
git cat-file -p 557d
</pre></div>
</div>
<p>In a more advanced example <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">-p</span> <span class="pre">path/to/file</span></code> can be used to select
specific changes inside of a single file for staging.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git status
vi README  <span class="c1"># Prepend a header and append a footer.</span>

git status
git diff
git add -p README

<span class="c1"># Split, and stage only the header.</span>

git status
git diff
find .git/objects
git cat-file &lt;SHA&gt;
</pre></div>
</div>
</div>
<div class="section" id="git-commit">
<h3><a class="toc-backref" href="#id29">git commit</a><a class="headerlink" href="#git-commit" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> command to checkin your work into the
<a class="reference internal" href="glossary.html#term-Git-Database"><span class="xref std std-term">Git Database</span></a>.</p></li>
<li><p>This is probably the most important command in Git.</p></li>
<li><p>If your work is not committed, it effectively does not exist.</p></li>
<li><p>Think of committing as <strong>saving</strong> your work.</p></li>
</ul>
<p>Continuing from the <a class="reference internal" href="#git-add"><span class="std std-ref">git add</span></a> section previously we can
commit our <code class="docutils literal notranslate"><span class="pre">README</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git status
git commit

cat .git/HEAD
cat .git/refs/heads/master

git status
git diff
find .git/objects

<span class="c1"># Looks look at the tree and commit objects</span>
git cat-file -t &lt;SHA&gt;
git cat-file -p &lt;SHA&gt;
</pre></div>
</div>
<p>After committing <code class="docutils literal notranslate"><span class="pre">refs/heads/master</span></code> now exists and points to the latest
commit SHA that was just created.</p>
<p>Notice that a new Blob object is not created. The Blob object created when
we staged the file results in the same Blob object so the commit just reuses
the existing one when it creates the Tree object.</p>
<p>Since this is the first commit, there is no parent commit so let’s create
another commit so that we can see the parent.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git status
<span class="c1"># Make changes to the README</span>

git status
git diff
git add README
git commit

cat .git/HEAD
cat .git/refs/heads/master

git status
find .git/objects

git cat-file -t &lt;SHA&gt;
git cat-file -p &lt;SHA&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>Notice that <code class="docutils literal notranslate"><span class="pre">refs/heads/master</span></code> has moved forward to a new commit SHA.</p></li>
<li><p>Notice that this new commit has a parent.</p></li>
</ul>
<p>When you share this commit with others (like pushing to a remote repository)
this commit will always be based against this parent so when a remote
repository merges this commit it will be merged against this parent in the Git
timeline.</p>
<p><strong>git commit –amend</strong></p>
<p>As mentioned previously it is good practice to commit often to save your work,
of course if you do this you might end up having a lot of incremental commits.
To avoid that we can instead use the <code class="docutils literal notranslate"><span class="pre">--amend</span></code> parameter which tells Git to
allow you to <strong>update</strong> your previous commit with new changes to include in
it. If you have not shared your work with the world yet you should always
<strong>amend</strong> your commit until you are ready to shared it.</p>
<p>Once you start sharing though there are practical situations you need to
consider when amending which we will discuss in more detail later.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git status
<span class="c1"># Make changes to the README</span>

git status
git diff
git add README
git commit --amend

cat .git/refs/heads/master

git status
git log

find .git/objects
git cat-file -t &lt;SHA&gt;
git cat-file -p &lt;SHA&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>Notice that <code class="docutils literal notranslate"><span class="pre">refs/heads/master</span></code> is yet again updated with a new commit SHA.</p></li>
<li><p>Every time you commit you can expect <code class="docutils literal notranslate"><span class="pre">refs/heads/master</span></code> to move the SHA.</p></li>
</ul>
</div>
<div class="section" id="git-checkout">
<h3><a class="toc-backref" href="#id30">git checkout</a><a class="headerlink" href="#git-checkout" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> command to copy files from the <a class="reference internal" href="glossary.html#term-Git-Database"><span class="xref std std-term">Git Database</span></a>
into your <a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktree</span></a>.</p></li>
<li><p>Checkout a specific file from a commit by passing <code class="docutils literal notranslate"><span class="pre">--</span> <span class="pre">path/to/file</span></code>.</p></li>
<li><p>Pass the <code class="docutils literal notranslate"><span class="pre">-f</span></code> flag to replace modified files.</p></li>
</ul>
<p>Try some of these in your own repos:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout HEAD
git checkout master
git checkout master -- path/to/file
git checkout <span class="o">[</span>HASH<span class="o">]</span> -- path/to/file
git checkout -f master
</pre></div>
</div>
</div>
</div>
<div class="section" id="demo-working-with-multiple-worktrees">
<h2><a class="toc-backref" href="#id25">Demo: Working with multiple Worktrees</a><a class="headerlink" href="#demo-working-with-multiple-worktrees" title="Permalink to this headline">¶</a></h2>
<p>As mentioned earlier, the Git <a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktree</span></a> is where your working files are.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a bit of an advanced topic but it good to know in case you
need it. This is meant to be a basic introduction to the feature.
Most folks can effectively use Git without ever requiring this feature.</p>
</div>
<p>When you create a Git repo you get one <a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktree</span></a> in the
<a class="reference internal" href="glossary.html#term-Git-Repository"><span class="xref std std-term">Git Repository</span></a>, however with the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">worktree</span></code> command it is
possible to create additional <a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktrees</span></a> for parallel
development. This is useful for those who need to work on multiple things in
parallel and if you do not  want to disturb your editor for your existing
checked out files.</p>
<p>Maybe you need to work on a quick hotfix that needs to get out ASAP,
<a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktrees</span></a> are a great way temporarily create a new
workspace.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git worktree list
git worktree add ../demo-hotfix
find .git/worktrees
</pre></div>
</div>
<p><a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktree</span></a> configuration directory:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.git/worktrees
.git/worktrees/demo-hotfix
.git/worktrees/demo-hotfix/ORIG_HEAD
.git/worktrees/demo-hotfix/commondir
<span class="hll">.git/worktrees/demo-hotfix/HEAD
</span>.git/worktrees/demo-hotfix/logs
.git/worktrees/demo-hotfix/logs/HEAD
<span class="hll">.git/worktrees/demo-hotfix/index
</span><span class="hll">.git/worktrees/demo-hotfix/gitdir
</span></pre></div>
</div>
<p>Notice that a new directory is created to hold all the worktrees. Each
<a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktree</span></a> contains metadata about the tree similar to the default
<a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktree</span></a> and has it’s own separate <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> reference and
<a class="reference internal" href="glossary.html#term-Git-Index"><span class="xref std std-term">Git Index</span></a>.</p>
<p>Next let’s switch to the new Worktree and take a look at what’s there.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ../demo-hotfix
find .
cat .git
</pre></div>
</div>
<p>This worktree also has a <code class="docutils literal notranslate"><span class="pre">.git</span></code> however instead of it being a directory it is
a file containing a reference to the original <a class="reference internal" href="glossary.html#term-Git-Directory"><span class="xref std std-term">Git Directory</span></a> we looked
at above. From here we can see that it is sharing information with the original
repo and no duplication is happening here.</p>
<p>You can remove the <a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktree</span></a> when you are done with
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">worktree</span> <span class="pre">remove</span> <span class="pre">&lt;worktree&gt;</span></code> or just delete the worktree directory with
your usual commandline commands. Git will automatically clean up the metadata.</p>
</div>
<div class="section" id="git-core-concepts-key-takeaways">
<h2><a class="toc-backref" href="#id26">Git Core Concepts: Key Takeaways</a><a class="headerlink" href="#git-core-concepts-key-takeaways" title="Permalink to this headline">¶</a></h2>
<p>In this section we learned the fundamental functions of Git. The main
takeaways you should take from this chapter is try to understand.</p>
<ul>
<li><p><a class="reference internal" href="glossary.html#term-Git-Repository"><span class="xref std std-term">Git Repository</span></a></p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="glossary.html#term-Git-Directory"><span class="xref std std-term">Git Directory</span></a> (<a class="reference internal" href="glossary.html#term-Git-Database"><span class="xref std std-term">Git Database</span></a>)</p></li>
<li><p><a class="reference internal" href="glossary.html#term-Git-Index"><span class="xref std std-term">Git Index</span></a> (Staging Area)</p></li>
<li><p><a class="reference internal" href="glossary.html#term-Worktree"><span class="xref std std-term">Worktree</span></a> (Workspace)</p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="#the-git-object-model"><span class="std std-ref">The Git Object Model</span></a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#blob-object"><span class="std std-ref">Blob object</span></a></p></li>
<li><p><a class="reference internal" href="#tree-object"><span class="std std-ref">Tree object</span></a></p></li>
<li><p><a class="reference internal" href="#commit-object"><span class="std std-ref">Commit object</span></a></p></li>
</ul>
</li>
<li><p>Git Commands</p>
<ul class="simple">
<li><p><a class="reference internal" href="#git-status"><span class="std std-ref">git status</span></a></p></li>
<li><p><a class="reference internal" href="#git-add"><span class="std std-ref">git add</span></a></p></li>
<li><p><a class="reference internal" href="#git-commit"><span class="std std-ref">git commit</span></a></p></li>
<li><p><a class="reference internal" href="#git-checkout"><span class="std std-ref">git checkout</span></a></p></li>
</ul>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="commit-objects.html" class="btn btn-neutral float-right" title="Deeper look into commits" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="basic-revision-control.html" class="btn btn-neutral float-left" title="Basic Revision Control" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Thanh Ha

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46385504-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>